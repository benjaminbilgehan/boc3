<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Fast and reliable BOC-3 filing service. Complete your FMCSA process agent designation in minutes.">
    <title>BOC-3 Filing Service | Process Agent Designation</title>
    <link rel="stylesheet" href="style.css">
    <!-- Add Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Add Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Add SignaturePad library -->
    <script src="https://cdn.jsdelivr.net/npm/signature_pad@4.1.7/dist/signature_pad.umd.min.js"></script>
    <!-- Add Stripe.js -->
    <script src="https://js.stripe.com/v3/"></script>
    <!-- Add jsPDF for PDF generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <!-- Add html2canvas for capturing signature -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <!-- Add Supabase JS -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <!-- Version tracking script -->
    <script src="version.js"></script>
</head>
<body>
    <nav class="navbar">
        <div class="logo">BOC-3 Filing</div>
        <ul class="nav-links">
            <li><a href="#home">Home</a></li>
            <li><a href="#services">Services</a></li>
            <li><a href="#pricing">Pricing</a></li>
            <li><a href="#contact">Contact</a></li>
        </ul>
        <button class="start-filing-btn">Start Filing</button>
    </nav>

    <div class="form-container hidden">
        <div class="form-steps">
            <a href="#" class="step active" data-step="0">1. Carrier Info</a>
            <a href="#" class="step" data-step="1">2. Payment</a>
            <a href="#" class="step" data-step="2">3. Submit</a>
        </div>

        <form id="filing-form" class="filing-form">
            <!-- Step 1: Carrier Info -->
            <div class="form-step" id="step1">
                <h2>Carrier Information</h2>
                
                <div class="carrier-info-row">
                    <div class="form-group">
                        <label for="usdot">USDOT Number</label>
                        <input type="text" id="usdot" name="usdot" required>
                    </div>

                    <div class="form-group">
                        <label for="ownerName">Owner Full Name</label>
                        <input type="text" id="ownerName" name="ownerName" required>
                    </div>
                </div>

                <div class="carrier-info-row">
                    <div class="form-group">
                        <label for="email">Email Address</label>
                        <input type="email" id="email" name="email" required>
                    </div>

                    <div class="form-group">
                        <label for="phone">Phone Number</label>
                        <input type="tel" id="phone" name="phone" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="companyName">Company Name</label>
                    <input type="text" id="companyName" name="companyName" required>
                </div>

                <div class="form-group">
                    <label for="streetAddress">Street Address</label>
                    <input type="text" id="streetAddress" name="streetAddress" required>
                </div>

                <div class="form-group address-group">
                    <div>
                        <label for="city">City</label>
                        <input type="text" id="city" name="city" required>
                    </div>
                    <div>
                        <label for="state">State</label>
                        <select id="state" name="state" required class="w-full px-3 py-[0.75rem] border border-[#ddd] rounded-[4px] focus:outline-none focus:border-[#4CAF50] focus:shadow-[0_0_0_2px_rgba(76,175,80,0.1)]">
                            <option value="">Select a state</option>
                            <option value="AL">Alabama</option>
                            <option value="AK">Alaska</option>
                            <option value="AZ">Arizona</option>
                            <option value="AR">Arkansas</option>
                            <option value="CA">California</option>
                            <option value="CO">Colorado</option>
                            <option value="CT">Connecticut</option>
                            <option value="DE">Delaware</option>
                            <option value="FL">Florida</option>
                            <option value="GA">Georgia</option>
                            <option value="HI">Hawaii</option>
                            <option value="ID">Idaho</option>
                            <option value="IL">Illinois</option>
                            <option value="IN">Indiana</option>
                            <option value="IA">Iowa</option>
                            <option value="KS">Kansas</option>
                            <option value="KY">Kentucky</option>
                            <option value="LA">Louisiana</option>
                            <option value="ME">Maine</option>
                            <option value="MD">Maryland</option>
                            <option value="MA">Massachusetts</option>
                            <option value="MI">Michigan</option>
                            <option value="MN">Minnesota</option>
                            <option value="MS">Mississippi</option>
                            <option value="MO">Missouri</option>
                            <option value="MT">Montana</option>
                            <option value="NE">Nebraska</option>
                            <option value="NV">Nevada</option>
                            <option value="NH">New Hampshire</option>
                            <option value="NJ">New Jersey</option>
                            <option value="NM">New Mexico</option>
                            <option value="NY">New York</option>
                            <option value="NC">North Carolina</option>
                            <option value="ND">North Dakota</option>
                            <option value="OH">Ohio</option>
                            <option value="OK">Oklahoma</option>
                            <option value="OR">Oregon</option>
                            <option value="PA">Pennsylvania</option>
                            <option value="RI">Rhode Island</option>
                            <option value="SC">South Carolina</option>
                            <option value="SD">South Dakota</option>
                            <option value="TN">Tennessee</option>
                            <option value="TX">Texas</option>
                            <option value="UT">Utah</option>
                            <option value="VT">Vermont</option>
                            <option value="VA">Virginia</option>
                            <option value="WA">Washington</option>
                            <option value="WV">West Virginia</option>
                            <option value="WI">Wisconsin</option>
                            <option value="WY">Wyoming</option>
                        </select>
                    </div>
                    <div>
                        <label for="zipCode">ZIP Code</label>
                        <input type="text" id="zipCode" name="zipCode" required>
                    </div>
                </div>

                <div class="form-group checkbox-group">
                    <input type="checkbox" id="confirmInfo" name="confirmInfo" required>
                    <label for="confirmInfo">By checking this box, you confirm that you have checked that the information above is correct.</label>
                    <div class="validation-error">You must confirm that the information is correct to proceed.</div>
                </div>

                <button type="button" class="next-btn">Next</button>
            </div>

            <!-- Step 2: Payment -->
            <div class="form-step hidden" id="step2">
                <h2>Payment Information</h2>
                
                <div class="bg-[#f8f9fa] p-4 rounded-lg mb-4">
                    <h3 class="text-lg font-semibold mb-2">Service Details</h3>
                    <p>BOC-3 Process Agent Filing Service</p>
                    <p class="text-sm text-gray-600">All 50 states coverage</p>
                </div>

                <div class="total-price">
                    <span>Total Price:</span>
                    <span class="price">$150.00</span>
                </div>

                <div class="payment-form">
                    <!-- Credit Card section styled like the photo -->
                    <div class="form-group">
                        <label for="cardNumber">Card number <span class="text-gray-400 text-sm">The 16 digits on front of your card</span></label>
                        <input type="text" id="cardNumber" name="cardNumber" placeholder="1234 5678 9012 3456" class="card-input" maxlength="19">
                        <div id="card-number-error" class="validation-error"></div>
                    </div>

                    <div class="card-details">
                        <div class="form-group">
                            <label for="expiryDate">Expiration date</label>
                            <div class="flex items-center gap-2">
                                <select id="expiryMonth" name="expiryMonth" class="w-full">
                                    <option value="">Month</option>
                                    <option value="01">01</option>
                                    <option value="02">02</option>
                                    <option value="03">03</option>
                                    <option value="04">04</option>
                                    <option value="05">05</option>
                                    <option value="06">06</option>
                                    <option value="07">07</option>
                                    <option value="08">08</option>
                                    <option value="09">09</option>
                                    <option value="10">10</option>
                                    <option value="11">11</option>
                                    <option value="12">12</option>
                                </select>
                                <span class="text-xl">/</span>
                                <select id="expiryYear" name="expiryYear" class="w-full">
                                    <option value="">Year</option>
                                    <option value="2024">2024</option>
                                    <option value="2025">2025</option>
                                    <option value="2026">2026</option>
                                    <option value="2027">2027</option>
                                    <option value="2028">2028</option>
                                    <option value="2029">2029</option>
                                    <option value="2030">2030</option>
                                    <option value="2031">2031</option>
                                    <option value="2032">2032</option>
                                    <option value="2033">2033</option>
                                    <option value="2034">2034</option>
                                </select>
                            </div>
                            <div id="expiry-error" class="validation-error"></div>
                        </div>

                        <div class="form-group">
                            <label for="cvv">CVV2/CVC2</label>
                            <input type="text" id="cvv" name="cvv" placeholder="123" maxlength="4" class="w-full">
                            <div id="cvv-error" class="validation-error"></div>
                        </div>
                    </div>
                    
                    <!-- Hidden Stripe Element (used behind the scenes) -->
                    <div id="card-element" class="stripe-element hidden"></div>
                    <div id="card-errors" role="alert" class="validation-error"></div>

                    <!-- Billing Address Section -->
                    <div class="mt-6 mb-4 border-t pt-4">
                        <h3 class="text-lg font-semibold mb-2">Billing Address</h3>
                        
                        <div class="form-group checkbox-group">
                            <input type="checkbox" id="sameAsPhysical" name="sameAsPhysical" checked>
                            <label for="sameAsPhysical">Billing address is the same as physical address</label>
                        </div>
                        
                        <!-- Billing address fields (hidden by default) -->
                        <div id="billingAddressFields" class="hidden mt-4">
                            <div class="form-group">
                                <label for="billingStreet">Street Address</label>
                                <input type="text" id="billingStreet" name="billingStreet">
                            </div>
                            
                            <div class="form-group address-group">
                                <div>
                                    <label for="billingCity">City</label>
                                    <input type="text" id="billingCity" name="billingCity">
                                </div>
                                <div>
                                    <label for="billingState">State</label>
                                    <select id="billingState" name="billingState" class="w-full">
                                        <option value="">Select a state</option>
                                        <option value="AL">Alabama</option>
                                        <option value="AK">Alaska</option>
                                        <option value="AZ">Arizona</option>
                                        <option value="AR">Arkansas</option>
                                        <option value="CA">California</option>
                                        <option value="CO">Colorado</option>
                                        <option value="CT">Connecticut</option>
                                        <option value="DE">Delaware</option>
                                        <option value="FL">Florida</option>
                                        <option value="GA">Georgia</option>
                                        <option value="HI">Hawaii</option>
                                        <option value="ID">Idaho</option>
                                        <option value="IL">Illinois</option>
                                        <option value="IN">Indiana</option>
                                        <option value="IA">Iowa</option>
                                        <option value="KS">Kansas</option>
                                        <option value="KY">Kentucky</option>
                                        <option value="LA">Louisiana</option>
                                        <option value="ME">Maine</option>
                                        <option value="MD">Maryland</option>
                                        <option value="MA">Massachusetts</option>
                                        <option value="MI">Michigan</option>
                                        <option value="MN">Minnesota</option>
                                        <option value="MS">Mississippi</option>
                                        <option value="MO">Missouri</option>
                                        <option value="MT">Montana</option>
                                        <option value="NE">Nebraska</option>
                                        <option value="NV">Nevada</option>
                                        <option value="NH">New Hampshire</option>
                                        <option value="NJ">New Jersey</option>
                                        <option value="NM">New Mexico</option>
                                        <option value="NY">New York</option>
                                        <option value="NC">North Carolina</option>
                                        <option value="ND">North Dakota</option>
                                        <option value="OH">Ohio</option>
                                        <option value="OK">Oklahoma</option>
                                        <option value="OR">Oregon</option>
                                        <option value="PA">Pennsylvania</option>
                                        <option value="RI">Rhode Island</option>
                                        <option value="SC">South Carolina</option>
                                        <option value="SD">South Dakota</option>
                                        <option value="TN">Tennessee</option>
                                        <option value="TX">Texas</option>
                                        <option value="UT">Utah</option>
                                        <option value="VT">Vermont</option>
                                        <option value="VA">Virginia</option>
                                        <option value="WA">Washington</option>
                                        <option value="WV">West Virginia</option>
                                        <option value="WI">Wisconsin</option>
                                        <option value="WY">Wyoming</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="billingZip">ZIP Code</label>
                                    <input type="text" id="billingZip" name="billingZip">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group checkbox-group">
                        <input type="checkbox" id="payment-terms" name="payment-terms" required>
                        <label for="payment-terms">I agree to the terms and conditions of payment and authorize a charge of $150.00</label>
                        <div class="validation-error">You must agree to the terms to proceed.</div>
                    </div>
                </div>

                <div class="bg-[#f8f9fa] p-4 rounded-lg mb-4">
                    <h3 class="text-lg font-semibold mb-2">What happens next?</h3>
                    <ol class="list-decimal pl-6 text-sm space-y-1">
                        <li>After clicking "Next," you'll be asked to sign the order and initialize the agreements</li>
                        <li>Once your signature is confirmed, your payment will be processed</li>
                        <li>An agent will be assigned to your case within 15 minutes</li>
                        <li>You'll receive a confirmation email with your BOC-3 filing details</li>
                    </ol>
                </div>

                <div class="button-group">
                    <button type="button" class="prev-btn">Previous</button>
                    <button type="button" class="next-btn" id="payment-next-btn">Next</button>
                </div>
            </div>

            <!-- Step 3: Submit -->
            <div class="form-step hidden" id="step3">
                <h2>Initialize and Sign to confirm your order</h2>
                
                <div class="agreement-section">
                    <p class="text-sm mb-2">Please initial each statement below to confirm you've read and agree to the terms.</p>
                    <div class="initial-group">
                        <input type="text" id="initials1" name="initials1" class="initials-input" maxlength="2" required autocomplete="off" placeholder="I.N">
                        <p class="agreement-text">I certify that I am the authorized holder and signer of the credit card referenced above. I certify that all the information above is complete and accurate.</p>
                    </div>

                    <div class="initial-group">
                        <input type="text" id="initials2" name="initials2" class="initials-input" maxlength="2" required autocomplete="off" placeholder="I.N">
                        <p class="agreement-text">I understand that this information is provided in good faith by me/my knowledge. Submitting false information could result in penalties and fines. It is a federal crime to submit false information in an attempt to commit fraud.</p>
                    </div>

                    <div class="initial-group">
                        <input type="text" id="initials3" name="initials3" class="initials-input" maxlength="2" required autocomplete="off" placeholder="I.N">
                        <p class="agreement-text">I hereby authorize the collection of payment to DOT Operating Authority Inc. (DBA: BOC-3 Process Agents) for all charges as indicated above. I acknowledge that charges to my provided payment method may not exceed the cost amount listed under "TOTAL PRICE" field. I understand that I am responsible for the full amount listed in the "TOTAL PRICE" field. I understand that this authorization is only in effect during the time period of this transaction. If any additional charges are to need authorization, a new authorization form will have to be completed.</p>
                    </div>

                    <div class="initial-group">
                        <input type="text" id="initials4" name="initials4" class="initials-input" maxlength="2" required autocomplete="off" placeholder="I.N">
                        <p class="agreement-text">I acknowledge that the total amount of today's transaction, indicated under the "TOTAL PRICE" field includes any and all Federal, State, and Local Government fees.</p>
                    </div>

                    <div class="initial-group">
                        <input type="text" id="initials5" name="initials5" class="initials-input" maxlength="2" required autocomplete="off" placeholder="I.N">
                        <p class="agreement-text">I hereby acknowledge and agree that after the charges are authorized, a DOT Operating Authority Inc. (DBA: BOC-3 Process Agents) agent will be assigned within 15 minutes to complete this order. Once an agent has been assigned, this payment is non-refundable. DOT Operating Authority Inc. (DBA: BOC-3 Process Agents) does not accept any responsibility for refusal or reversal of payments, which shall be a matter between you and your credit card issuer.</p>
                    </div>
                </div>

                <div class="form-group checkbox-group">
                    <input type="checkbox" id="emailNotifications" name="emailNotifications">
                    <label for="emailNotifications">I want to receive important email and text notifications about my order, and renewal notices.</label>
                </div>

                <div class="form-group checkbox-group">
                    <input type="checkbox" id="marketingEmails" name="marketingEmails">
                    <label for="marketingEmails">I want to receive emails and messages for marketing and exclusive updates from BOC-3 Process Agents. Reply STOP to opt-out, HELP for help. Message frequency varies; Message and data rates may apply.</label>
                </div>

                <div class="form-group signature-section">
                    <label>Signature</label>
                    <canvas id="signatureCanvas" width="700" height="200"></canvas>
                    <div class="signature-controls">
                        <button type="button" id="clearSignature" class="clear-btn">Clear Signature</button>
                    </div>
                </div>

                <div class="total-price-final">
                    <span>Total Price:</span>
                    <span class="price">$150.00</span>
                </div>

                <div class="button-group">
                    <button type="button" class="prev-btn">PREVIOUS</button>
                    <button type="submit" class="submit-btn">SUBMIT</button>
                </div>
            </div>
        </form>
    </div>

    <!-- Footer with version info -->
    <footer class="py-4 text-center text-gray-500 text-sm mt-8 border-t border-gray-200">
        <div class="container mx-auto">
            <p>Version <span id="version-number">1.0.0</span> - Build <span id="build-date">March 30, 2025</span></p>
            <p class="mt-1">© 2025 BOC-3 Filing Service. All rights reserved.</p>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        // Update version info from version.js
        if (window.APP_VERSION) {
            document.getElementById('version-number').textContent = APP_VERSION.version;
            document.getElementById('build-date').textContent = new Date(APP_VERSION.buildTime).toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            
            // Add detailed version info as data attributes
            const footer = document.querySelector('footer');
            if (footer) {
                footer.dataset.version = APP_VERSION.version;
                footer.dataset.environment = APP_VERSION.environment;
                footer.dataset.buildTime = APP_VERSION.buildTime;
                footer.dataset.features = APP_VERSION.features.join(', ');
            }
        }
    </script>
</body>
</html>
